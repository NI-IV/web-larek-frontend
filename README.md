# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```


# Базовые классы

## Класс Api 
Данный класс позволяет отправлять GET и POST запросы на сервер.

## Класс EventEmitter
Данный класс позволяет создавать кастомные события и вызывать их при необходимости

Методы класса:
- on - позволяет установить обработчик на событие
- off - позволяет снять обработчик с события
- emit - позволяет инициировать событие с данными

## Класс Component
Данный класс является базовым для создания других компонентов

Методы класса:
- toggleClass - позволяет переключать класс компонента
- setText - позволяет установить текстовое содержимое компонента
- setDisabled - позволяет изменить статус блокировки компонента
- setHidden - позволяет скрыть компонент
- setVisible - позволяет сделать компонент видимым
- setImage - позволяет установить изображение с альтернативным текстом
- render - позволяет вернуть корневой DOM-элемент

## Класс Model
Данный класс является базовым для создания других моделей данных

Методы класса:
- emitChanges - сообщает всем что модель поменялась


# Компоненты модели данных

## Класс AppState
Данный класс является хранилищем данных состояний корзины, заказа и каталога

Поля класса:
- basket - хранилище товаров, добавленных в корзину
- catalog - хранилище всех товаров, полученых с сервера
- order - хранилище всех данных, сформированных для отправки заявки заказа
- preview - хранилище данных для превью
- formErrors - хранилище ошибок валидации

Методы класса:
- clearBasket - очищает хранилище товаров, добавленных в корзину
- getTotal - считает общую сумму товаров, добавленных в корзину
- setCatalog - добавляет данные товаров, полученные с сервера, в поле catalog
- setPreview - добавляет данные товара в поле preview и вызывает событие изменения превью
- setBasket - добавляет данные выбранных товаров в поле basket и вызывает событие изменение корзины
- removeBasket - удаляет выбранный товар из корзины и вызывает событие изменение корзины
- setOrderField - добавляет данные в поле order
- validateOrder - выводит ошибки валидации

# Компоненты представления

## Класс Page
Данный класс выводит на страницу основные элементы страницы и наследуется от класса Component

Поля класса являются HTML элементами:
- _counter - счетчик добавленных в корзину товаров
- _catalog - контейнер галереи товаров
- _wrapper - основной контейней всей страницы
- _basket - кнопка корзины

Методы класса:
- set counter - сеттер, позволяющий установить значение добавленных карточек в счетчик корзины
- set catalog - сеттер, позволяющий добавить карточки товаров в контейнер
- set locked - сеттер, позволяющий блокировать прокрутку экрана, при открытом модальном окне

## Класс Basket
Данный класс выводит на страницу элементы корзины в модальном окне и наследуется от класса Component

Поля класса являются HTML элементами:
- _list - список всех товаров, добавленных в корзину
- _total - итоговая сумма всех товаров в корзине
- _button - кнопка оформления заказа

Методы класса:
- set items - сеттер, добавляющий список всех товаров, добавленных в корзину
- set selected - сеттер, позволяющий заблокировать/разблокировать кнопку оформления заказа
- set total - сеттер, позволяющий установить итоговую сумму всех товаров в корзине

## Класс Form 
Данный класс является основным для форм приложения

Поля класса являются HTML элементами:
- _submit - кнопка отправки формы
- _errors - элемент отображения ошибок валидации формы

Методы класса:
- onInputChange - выводит определенную ошибку, вызванную в результате валидации
- set valid - сеттер, позволяющий заблокировать/разблокировать кнопку подтверждения формы
- set errors - сеттер, утсанавливаюший текст ошибки в поле _errors
- render - отрисовка через родительский метод

## Класс Card
Данный класс является основным для классов, выводящих товары на страницу

Поля класса являются HTML элементами:
- _title - заголовок карточки
- _price - стоимость карточки
- _button - кнопка карточки

Методы класса:
- set id - сеттер, устанавливающий id карточки
- set title - сеттер, устанавливающий заголовок карточки
- set price - сеттер, устанавливающий стоимость карточки

## Класс CatalogItem
Данный класс позволяет отрисовать карточки на странице и отрисовать карточку в превью. Данный класс расширяет класс Card

Поля класса являются HTML элементами:
- _category - категория товара
- _image - картинка товара
- _description - описание товара

Методы класса:
- categoryColor - выбирает и отрисовывает определенный цвет категории товара
- set category - сеттер, устанавливающий текст категории товару и назначает цвет
- set image - сеттер, устанавливающий картинку
- set description - сеттер, устанавливающий описание
- set button - сеттер, изменяющий название кнопки (купить/удалить)

## Класс BasketCard
Данный класс позволяет отрисовать карточки товаров в корзине. Данный класс расширяет класс Card

Поля класса являются HTML элементами:
- _index - порядковый номер элемента

Методы класса:
- set index - сеттер, устанавливающий порядковый номер элемента

## Класс Order 
Данный класс отрисовывает форму выбора способа оплаты и добавления места доставки. Данный класс расширяет класс Form

Поля класса являются HTML элементами:
- _payment - кнопки со способами оплаты
- _address - ввод адреса
- _button - кнопка Далее

Методы класса:
- set address - сеттер, устанавливаюший данные о доставке
- unActiveButton - делает кнопки выдбора способа оплаты неактивными
- getActiveButton - возвращает активную кнопку

## Класс Contacts
Данный класс отрисовывает форму заполнения контактных данных. Данный класс расширяет класс Form

Поля класса являются HTML элементами:
- _button - кнопка Оплатить

Методы класса:
- set phone - сеттер, устанавливающий информацию о номере телефона
- set email - сеттер, устанавливающий информацию о почте

## Класс Success
Данный класс отрисовывает компонент успешного выполнения заказа. Данный класс расширяет класс Component

Поля класса являются HTML элементами:
- _close - кнопка закрытия
- _description: - описание с итоговой стоимостью заказа

Методы класса:
- set description - сеттер, устанавливающий описание заказа с итоговой стоимостью заказа

## Класс Modal
Данный класс отрисовывает модальные окна. Данный класс расширяет класс Component

Поля класса являются HTML элементами:
- _closeButton - кнопка закрытия модального окна
- _content - контент модального окна

Методы класса:
- set content - сеттер, устанавливающий контент в модальном окне
- open - открытие модального окна
- close - закрытие модального окна
- render - через вызов родителя - отрисовка модального окна

## Класс WebAPI
Данный класс позволяет отправлять GET и POST запросы на сервер данного приложения.

Методы класса:
- getProductsList - получает список товаров
- getProductItem - получает данные о товаре
- orderProducts - отправляет заказ на сервер